const express = require("express");
const cookieParser = require("cookie-parser");

const app = express();

// Global middleware → always runs first
app.use(cookieParser());

// Route 1: Set cookie
app.get("/set", (req, res) => {
  // Send a cookie to the browser
  res.cookie("name", "Subhamoy");
  res.send("Cookie has been set");
});

// Route 2: Get cookie
app.get("/get", (req, res) => {
  // Read cookie that browser sent
  res.send(req.cookies);
});

app.listen(8080, () => {
  console.log("Server running on 8080");
});



✔ res.cookie()

Used to SET (send) cookies to the browser.
(Server → Browser)

Example:

res.cookie("name", "Subhamoy");


This sends a cookie, and the browser stores it.

 req.cookies

Used to GET and READ cookies sent by the browser.
(Browser → Server)

Example:

req.cookies.name


This lets the server read the cookie that the browser previously stored.

Easy to remember:
res.cookie()  → write cookie (server → browser)
req.cookies   → read cookie (browser → server)






res.cookies()-> used to set cookies to the browser
req.cookies-> used to get and read those cookies from the browser

How cookies work?


# Visit /set

cookieParser → no cookies

/set → server sends cookie

browser saves cookie

# Visit /get

browser sends cookie to server

cookieParser runs first

cookieParser sets req.cookies = { name: "Subhamoy" }

/get route runs → sends that cookie back to browser



or, 

nodemon app.js -> app.use(cookieParser()); runs and checks does cookies present or not -> /set -> cookies set and browser stores it internally -> browser sends the cookies to app.js(server) ->  visit /get -> app.use(cookieParser()); run first and check for cookies present or not -> cookes present ->  cookieParser sets the req.cookies -> /get runs(res.send)